# id: 82
# https://demo.kestra.io/ui/blueprints/community/82
# http://localhost:8080/ui/blueprints/82
# Docker container installing pip packages before starting a Python Script task
# Tags: Python pip
description: |
  This flow uses the default `DOCKER` runner and the default `python:latest` Docker image. This means that `pip` is available out of the box and you can add several `beforeCommands` to install custom Pip packages, and prepare the environment for the task.
  
  Adding `warningOnStdErr: false` ensures that warnings raised during pip package installation don't set the task to a `WARNING` state. However, by default, any warning raised during the setup process (i.e. when executing `beforeCommands`) will end the task in the `WARNING` state.

id: 82_pipPackagesDocker
namespace: blueprint

tasks:
  - id: run_python
    type: io.kestra.plugin.scripts.python.Script
    beforeCommands:
      - pip install requests > /dev/null
    warningOnStdErr: false
    script: | 
      import requests
      import json

      response = requests.get("https://api.github.com")
      data = response.json()
      print(data)