# id: 23
# https://demo.kestra.io/ui/blueprints/community/23
# http://localhost:8080/ui/blueprints/23
# Create an S3 Bucket
# Tags: S3
description: |
  This flow takes a **bucket name** as input and creates a new S3 bucket with that name. 
  This flow assumes AWS credentials stored as secrets `AWS_ACCESS_KEY_ID` and `AWS_SECRET_ACCESS_KEY`.

id: 23_createBucket
namespace: blueprint

inputs:
  - name: bucket
    type: STRING
    defaults: declarative-orchestration-with-kestra
    required: true

tasks:
  - id: createBucket
    type: io.kestra.plugin.aws.s3.CreateBucket
    accessKeyId: "{{ secret('AWS_ACCESS_KEY_ID') }}"
    secretKeyId: "{{ secret('AWS_SECRET_ACCESS_KEY') }}"
    region: "{{ secret('AWS_DEFAULT_REGION') }}"
    bucket: "{{inputs.bucket}}"
